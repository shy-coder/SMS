<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.niit.sms.mapper.ScheduleMapper">
    <select id="findAll" resultType="com.niit.sms.vo.ScheduleVo">
        SELECT sche.id, course.course_name, tea.teacher_name, clazz.clazz_name, room, course_time, course_week
        from tb_schedule sche
                 LEFT JOIN tb_course course ON sche.course_id = course.id
                 LEFT JOIN tb_teacher tea ON sche.teacher_id = tea.id
                 LEFT JOIN tb_clazz clazz ON sche.clazz_id = clazz.id
    </select>

    <select id="findByTeaId" resultType="com.niit.sms.vo.ScheduleVo" parameterType="Integer">
        SELECT sche.id, course.course_name, tea.teacher_name, clazz.clazz_name, room, course_time, course_week
        from tb_schedule sche
                 LEFT JOIN tb_course course ON sche.course_id = course.id
                 LEFT JOIN tb_teacher tea ON sche.teacher_id = tea.id
                 LEFT JOIN tb_clazz clazz ON sche.clazz_id = clazz.id
        WHERE sche.teacher_id = #{teaId}
    </select>

    <select id="findByClazzId" resultType="com.niit.sms.vo.ScheduleVo" parameterType="Integer">
        SELECT sche.id, course.course_name, tea.teacher_name, clazz.clazz_name, room, course_time, course_week
        from tb_schedule sche
                 LEFT JOIN tb_course course ON sche.course_id = course.id
                 LEFT JOIN tb_teacher tea ON sche.teacher_id = tea.id
                 LEFT JOIN tb_clazz clazz ON sche.clazz_id = clazz.id
        WHERE sche.clazz_id = #{clazzId}
    </select>

</mapper>